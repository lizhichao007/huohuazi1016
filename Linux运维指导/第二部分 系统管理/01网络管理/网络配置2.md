---

ğŸŒ é›¶åŸºç¡€ç©è½¬Linuxç½‘ç»œé…ç½®ï½œä¿å§†çº§æ•™ç¨‹+é—­çœ¼æŠ„ä½œä¸šå‘½ä»¤

---

### 01 ğŸ’» **ç½‘ç»œé…ç½®åˆ°åº•åœ¨é…ä»€ä¹ˆï¼Ÿ**
**â€”â€”5åˆ†é’Ÿææ‡‚æ ¸å¿ƒæ¦‚å¿µ**
- **IPåœ°å€**ï¼šè®¾å¤‡çš„â€œé—¨ç‰Œå·â€ï¼ˆåˆ†é™æ€IPğŸ”’å’ŒåŠ¨æ€IPğŸ”„ï¼‰
- **ç½‘å…³**ï¼šæµé‡çš„â€œè·¯ç”±å™¨å‡ºå£â€ï¼ˆé€šå¸¸ = ä¸»è·¯ç”±IPï¼‰
- **DNS**ï¼šæŠŠâ€œwww.xxx.comâ€ç¿»è¯‘æˆæ•°å­—IPçš„ç¿»è¯‘å™¨

**âœ… ä¸€å¥è¯æ€»ç»“**ï¼š
é…ç½‘ç»œ = å‘Šè¯‰ç³»ç»Ÿã€å»å“ªè”ç½‘+æ€ä¹ˆæ‰¾è·¯+å¦‚ä½•ç¿»è¯‘åŸŸåã€‘

---

### 02 ğŸ”§ **åŸºç¡€é…ç½®ï¼šé™æ€IP vs åŠ¨æ€IP**

#### **ğŸŒ° åœºæ™¯1ï¼šæœåŠ¡å™¨å¿…é¡»å›ºå®šIPï¼ˆé™æ€é…ç½®ï¼‰**
**æ¨èå·¥å…·**ï¼š`nmcli`ï¼ˆNetworkManagerå‘½ä»¤è¡Œç¥å™¨ï¼‰
```bash
# å¼€ç½‘å¡+è®¾é™æ€IP+æ°¸ä¹…ç”Ÿæ•ˆ
sudo nmcli con mod "æœ‰çº¿è¿æ¥" \
ipv4.addresses "192.168.1.100/24" \
ipv4.gateway "192.168.1.1" \
ipv4.dns "8.8.8.8" \
ipv4.method manual
sudo nmcli con up "æœ‰çº¿è¿æ¥"
```

#### **ğŸŒ° åœºæ™¯2ï¼šç¬”è®°æœ¬éšé‡è€Œå®‰ï¼ˆåŠ¨æ€DHCPï¼‰**
```bash
sudo nmcli con mod "æœ‰çº¿è¿æ¥" ipv4.method auto
sudo nmcli con down "æœ‰çº¿è¿æ¥" && sudo nmcli con up "æœ‰çº¿è¿æ¥"
```

**ğŸ“Œ ä¼ ç»Ÿæ–¹æ³•ï¼ˆé€‚åˆå¤å¤å…šï¼‰**
```bash
# ä¿®æ”¹/etc/netplan/00-installer-config.yaml
network:
  ethernets:
    enp3s0:
      dhcp4: false
      addresses: [192.168.1.100/24]
      routes:
        - to: default
          via: 192.168.1.1
      nameservers:
        addresses: [8.8.8.8]
# ç”Ÿæ•ˆé…ç½®
sudo netplan apply
```

---

### 03 ğŸŒ **DNSé…ç½®ï¼šæ‹’ç»â€œæ— æ³•è§£æåŸŸåâ€**
**â€”â€”3ç§æ–¹æ³•ä»»é€‰**
```bash
# æ–¹æ³•1ï¼šnmcliç›´æ”¹ï¼ˆæ¨èğŸŒŸï¼‰
sudo nmcli con mod "æœ‰çº¿è¿æ¥" ipv4.dns "114.114.114.114 8.8.8.8"

# æ–¹æ³•2ï¼šä¿®æ”¹resolv.confï¼ˆä¸´æ—¶ç”Ÿæ•ˆï¼‰
echo "nameserver 223.5.5.5" | sudo tee /etc/resolv.conf

# æ–¹æ³•3ï¼šæ°¸ä¹…å›ºåŒ–DNS
sudo vim /etc/systemd/resolved.conf
# ä¿®æ”¹åé‡å¯æœåŠ¡
sudo systemctl restart systemd-resolved
```

---

### 04 ğŸ•µï¸ **ç½‘ç»œçŠ¶æ€ï¼š5æ¡ç¥çº§æ’æŸ¥å‘½ä»¤**

| **å‘½ä»¤**                | **ä½œç”¨**                     |
|-------------------------|-----------------------------|
| `ip a`                  | æŸ¥æ‰€æœ‰ç½‘å¡IPå’ŒçŠ¶æ€           |
| `nmcli device status`   | çœ‹è®¾å¤‡è¿æ¥æƒ…å†µ               |
| `dig baidu.com`         | æµ‹è¯•DNSè§£ææ˜¯å¦æ­£å¸¸          |
| `sudo tcpdump -i eth0`  | æŠ“åŒ…åˆ†ææµé‡ï¼ˆè¿›é˜¶å¿…å¤‡âœ¨ï¼‰    |
| `sudo ss -tuln`         | ç§’çœ‹æ‰€æœ‰å¼€æ”¾ç«¯å£             |

---

### 05 ğŸš€ **é«˜æ•ˆæŠ€å·§ï¼šæå‡99%æ•ˆç‡çš„ç‹ æ´»**

- **ğŸ’¡ ä¸€é”®å¤‡ä»½ç½‘ç»œé…ç½®**
```bash
sudo cp /etc/netplan/*.yaml ~/netplan_backup/
```

- **ğŸ’¡ WiFiå¯†ç è‡ªåŠ¨å¡«å……**
```bash
nmcli device wifi connect "WiFiå" password "å¯†ç "
```

- **ğŸ’¡ åŒç½‘å¡åˆ†æµç­–ç•¥**
```bash
# å†…ç½‘èµ°eth0ï¼Œå¤–ç½‘èµ°eth1
sudo ip route add 10.0.0.0/8 via 10.0.0.1 dev eth0
sudo ip route add default via 192.168.1.1 dev eth1
```

---

### 06 âš ï¸ **é˜²å‘æŒ‡å—ï¼šè¡€æ³ªæ•™è®­æ€»ç»“**

1. **æ”¹é…ç½®å‰å¿…å¤‡ä»½ï¼**ï¼ˆæ‰‹æ»‘è¾“é”™å¯èƒ½å¤±è”ï¼‰
2. **è¿œç¨‹æœåŠ¡å™¨æ”¹ç½‘ç»œ**ï¼š
   - ä¸€å®šè¦å…ˆå¼€`sudo systemctl restart network`çš„å®ˆæŠ¤è¿›ç¨‹
   - æˆ–è€…ç”¨`tmux`é˜²æ­¢SSHæ–­è¿ç¿»è½¦
3. **é˜²ç«å¢™å…ˆæ”¾è¡Œï¼** é…ç½®å®ŒIPå‘ç°è¿ä¸ä¸Šï¼Ÿå¯èƒ½æ˜¯`ufw`æ²¡å¼€ç«¯å£
```bash
sudo ufw allow 22/tcp  # ä¾‹ï¼šå¼€æ”¾SSHç«¯å£
```
4. **ç¦ç”¨æ— ç”¨ç½‘å¡**ï¼šè™šæ‹Ÿæœºæˆ–äº‘æœåŠ¡å™¨å°¤å…¶æ³¨æ„ï¼
```bash
sudo nmcli con del "å†—ä½™è¿æ¥å"
```

---

### ğŸ’¬ **ä¸¸å­å’Œä½ è¯´ï¼š**
é…ç½‘ç»œå°±åƒåšä¹é«˜ğŸ§©ï¼Œæ‘¸æ¸…è§„å¾‹åè¶…ç®€å•ï½
è®°ä½ä¸‰ä¸ªå£è¯€ï¼š
âœ… IPä¸å†²çª âœ… ç½‘å…³è¦å¯¹ âœ… DNSèƒ½é€š

**âœ¨ å»¶ä¼¸å­¦ä¹ ï¼š**
- ç©è½¬`nmtui`å¯è§†åŒ–å·¥å…·ï¼ˆå°ç™½å‹å¥½ï¼‰
- å­¦ä¹ `iptables`å®šåˆ¶é˜²ç«å¢™è§„åˆ™ï¼ˆè¿›é˜¶å¿…å­¦ï¼‰

ä½ åœ¨é…ç½®ç½‘ç»œæ—¶è¸©è¿‡å“ªäº›å¤©å‘ï¼Ÿè¯„è®ºåŒºäº’åŠ©é¿é›·ï¼

---

**#Linuxè¿ç»´ #ç½‘ç»œé…ç½® #å¼€å‘ç¯å¢ƒæ­å»º #æœåŠ¡å™¨ç®¡ç†
---