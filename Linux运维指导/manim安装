

在Windows环境下搭建Manim环境的步骤如下：

---

### 步骤 1: 安装Python

1. **下载Python**：访问[Python官方网站](https://www.python.org)，下载适用于Windows的Python 3.9或3.10版本。
2. **安装Python**：
   - 运行下载的安装程序。
   - 勾选“Add Python to PATH”选项，以便在命令行中使用Python。
   - 完成安装。

---

### 步骤 2: 配置环境变量

1. **打开系统设置**：
   - 右键点击“此电脑”图标，选择“属性”。
   - 点击“高级系统设置”。
   - 在“系统属性”对话框中，选择“环境变量”。
2. **编辑Path变量**：
   - 在“系统变量”部分，选择“Path”并点击“编辑”。
   - 添加Python的安装路径（如`C:\Python39`）。
   - 确认无误后保存。

---

### 步骤 3: 安装Manim依赖

1. **使用pip安装依赖**：
   - 打开命令提示符（CMD）。
   - 输入以下命令依次安装依赖：

   ```cmd
   pip install numpy
   pip install tqdm
   pip install Pillow
   pip install psutil
   pip install scipy
   pip install opencv-python
   pip install imageio
   pip install imageio-ffmpeg
   pip install pycairo
   pip install manimpango
   ```

   如果遇到安装问题，特别是`pycairo`，可能需要手动下载预编译的二进制文件并安装。

---

### 步骤 4: 安装Manim

1. **克隆Manim仓库**：
   - 确保已安装Git，然后在CMD中输入：

     ```cmd
     git clone https://github.com/ManimCommunity/manim.git
     ```

2. **安装Manim**：
   - 进入克隆的manim目录：

     ```cmd
     cd manim
     ```

   - 运行安装脚本：

     ```cmd
     .\install.bat
     #或者
     pip install .
     ```

     请以管理员权限运行该脚本，以确保所有依赖正确安装。

---

### 步骤 5: 测试安装

1. **检查Manim版本**：

   ```cmd
   manim -v
   ```

   如果显示版本号，说明安装成功。

2. **运行示例脚本**：

   - 创建一个Python脚本，例如`test.py`，内容如下：

     ```python
     from manim import *

     class SquareToCircle(Scene):
         def construct(self):
             square = Square()
             self.play(Create(square))
     ```

   - 在CMD中运行：

     ```cmd
     manim -p test.py SquareToCircle
     ```

   - 如果生成视频并播放，说明环境配置正确。

---

### 注意事项

- **依赖问题**：确保所有依赖库安装正确，特别是`pycairo`和`manimpango`可能需要特定版本。
- **Python环境**：确保所有安装命令都在同一Python环境中执行。
- **管理员权限**：某些步骤可能需要管理员权限，运行CMD时右键选择“以管理员身份运行”。

通过以上步骤，您应该能够在Windows环境下成功搭建Manim环境，开始制作数学动画了！



### **步骤 3: 安装FFmpeg**

Manim需要FFmpeg来生成视频文件。请按照以下步骤安装FFmpeg：

1. **下载FFmpeg**：
   - 访问[FFmpeg的官方网站](https://ffmpeg.org/download.html)，下载适用于Windows的静态构建。
   # 可操作正确
   - 访问 https://github.com/BtbN/FFmpeg-Builds/releases
   - 下载 ffmpeg-master-latest-win64-gpl-shared.zip安装包
   - 或者使用以下命令下载预编译的FFmpeg二进制文件：

     ```cmd
     curl -L https://www.gyan.dev/ffmpeg/builds/ffmpeg-release-full-shared-64bit.7z -o ffmpeg.7z
     ```

2. **解压并安装**：
   - 使用7-Zip等工具解压文件。
   - 将FFmpeg的可执行文件（如`ffmpeg.exe`）复制到`C:\Program Files`或`C:\FFmpeg\bin`目录。

3. **配置环境变量**：
   - 将FFmpeg的可执行文件路径（如`C:\FFmpeg\bin`）添加到系统的`Path`变量中。

4. **验证FFmpeg安装**

    **打开命令提示符：
     - 按下 `Win + R`，输入`cmd`，回车打开命令提示符。

    **检查FFmpeg版本：
    - 输入以下命令：

     ```cmd
     ffmpeg -version
     ```

   - 如果显示FFmpeg的版本信息，说明安装成功。
---

### **步骤 4: 验证安装**

1. **检查Manim版本**：

   ```cmd
   manim -v
   ```

   如果显示版本号，说明安装成功。

2. **运行示例脚本**：
   - 创建一个Python脚本，例如`test.py`，内容如下：

     ```python
     from manim import *

     class SquareToCircle(Scene):
         def construct(self):
             square = Square()
             self.play(Create(square))
     ```

   - 在CMD中运行：

     ```cmd
     manim -p test.py SquareToCircle
     ```

   - 如果生成视频并播放，说明环境配置正确。

---